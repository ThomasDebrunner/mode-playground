<html>
<head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/brython/3.10.5/brython.min.js">
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/brython/3.10.5/brython_stdlib.min.js">
</script>
</head>
<body onload="brython()">

    <textarea id="console"></textarea>
    <script type="text/python3">
        import sys
        from browser import document

        class MyOutput:
            def __init__(self):
                self.console = document["console"]

            def write(self, text):
                self.console.text += text

        sys.stdout = MyOutput()

        print("Hello World 1")

        print("Hello World 2")

    </script>

    <script type="text/python">
        from browser import document, window
        from main import Vehicle
        import yaml

        with open('setup.yaml', 'r') as f:
            y = yaml.safe_load(f)

        modes = modes_from_dict(y['Modes'])
        state = state_from_dict(y['State'])
        stacks = y['Stacks']

        vehicle = Vehicle(modes, state, stacks)

        def py_call(arg):
            vehicle.__dump_json()

        window.py_call = py_call
    </script>


</body>
</html>